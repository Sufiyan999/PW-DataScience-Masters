<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Review Page</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
 <style>
  .image_preview
  {
   display:flex;
   border-radius:10px;
   height:50px;
   width:50px;
  }
  .yt-icon {
    display: inline-block;
    width: 24px;
    height: 24px;
    margin-right: 0.5rem;
    vertical-align: middle;
  }
     
  #footer {
    width: 100%;
    background-color: #ccc;
    padding: 10px;    
}

.button {
            background-color: #007BFF;
            color: #fff;
            padding: 10px 20px;
            border: none;
            align-items: right;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        /* Hover effect */
        .button:hover 
        {
            background-color: #0056b3; 
          
          }

 </style>


</head>

<body>

  <div class="table-users">
    <div class="header">
      <div><a href="https://www.youtube.com/@{{ channel }}">
        <i class="fa fa-youtube-play" style="font-size:48px;color:red"></i>
      </a></div>
      <span>{{ channel }}</span>
      <section style = "margin:auto 350px" >
      <button class="btn" onclick="redirectToJson()">Get Json</button>     
      <button class="btn" onclick="redirectToVisualize()">Visualize</button>  
    </section>
    <section style = "margin:auto 50px" ></section>
      <a href="/JSON" download><button class="btn">Download JSON</button></a>
      <a href="/download" download><button class="btn">Download File</button></a>
    </div>
    <table cellspacing="0">
        {% for review in report_list %}
      <tr style='width:30'>
          <td style='width:30'><a href='{{review[1]}}' >{{review[1]}}</a></td>
          <td style='width:30'><a href='{{review[2]}}'><img class="image_preview" src="{{review[2]}}" alt="" onerror="this.style.display='none'"></img></a><a href='{{review[2]}}'>{{review[2]}}</a></td>
          <td style='width:30'>{{review[3]}}</td>
          <td style='width:30'>{{review[4]}}</td>
          <td style='width:30'>{{review[5]}}</td>
          <td style='width:30'>{{review[6]}}</td>
      </tr>
      
      {% endfor %}
    </table>
</div>
<div>&#xf16a;    
     <button class="button" onclick="redirectToJson()">Get Json</button>     
     <button class="button" onclick="redirectToVisualize()">Visualize</button> 
     <a href="/JSON" download><button class="button">Download JSON</button></a>
     <a href="/download" download><button class="button">Download File</button></a> 
  
  <div>
  <footer id="footer">Copyright Â©   <br> >> <a href="https://www.linkedin.com/in/sufiyan-mohammad-04a114264"> https://www.linkedin.com/in/sufiyan-mohammad-04a114264 </a>  
    <br> >> <a href="https://github.com/Sufiyan999/"> https://github.com/Sufiyan999/ </a> 
    <br> >> <a href="https://github.com/Sufiyan999/YOUTUBE-IMAGE-SCRAPPER-PROJECT"> Source code </a> 
  </footer>

  <script>
    // Function to redirect to "/review" with a GET request
    function redirectToReview() {
        // Send a GET request to "/review"
        fetch("/review", {
            method: "GET"
        }).then(response => {
            // Handle the response here if needed
            // For example, you can check if the request was successful
            if (response.ok) {
                // Redirect to the new page
                window.location.href = "/review";
            } else {
                console.error("Failed to send GET request to /review");
            }
        }).catch(error => {
            console.error("Error sending GET request:", error);
        });
    }

    // Check if the page was reloaded or refreshed
    if (performance.navigation.type === 1) {
        // Page was refreshed, call the redirect function
        redirectToReview();
    }

    function redirectToJson()
     {
            window.location.href = "/json" ;
        }


        function redirectToVisualize()
        {
            window.location.href = "/visualize" ;
        }  
        
        
</script>

</body>

</html>